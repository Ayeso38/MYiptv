<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoPlay - Modern Video Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="root"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // Icon Components
        const Play = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
        );

        const Pause = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <rect x="6" y="4" width="4" height="16"></rect>
                <rect x="14" y="4" width="4" height="16"></rect>
            </svg>
        );

        const Volume2 = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
            </svg>
        );

        const VolumeX = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                <line x1="23" y1="9" x2="17" y2="15"></line>
                <line x1="17" y1="9" x2="23" y2="15"></line>
            </svg>
        );

        const Maximize = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
            </svg>
        );

        const Monitor = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
        );

        const Film = () => (
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect>
                <line x1="7" y1="2" x2="7" y2="22"></line>
                <line x1="17" y1="2" x2="17" y2="22"></line>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <line x1="2" y1="7" x2="7" y2="7"></line>
                <line x1="2" y1="17" x2="7" y2="17"></line>
                <line x1="17" y1="17" x2="22" y2="17"></line>
                <line x1="17" y1="7" x2="22" y2="7"></line>
            </svg>
        );

        const Upload = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
        );

        const SkipBack = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="19 20 9 12 19 4 19 20"></polygon>
                <line x1="5" y1="19" x2="5" y2="5"></line>
            </svg>
        );

        const SkipForward = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="5 4 15 12 5 20 5 4"></polygon>
                <line x1="19" y1="5" x2="19" y2="19"></line>
            </svg>
        );

        function VideoPlayer() {
            const [videoUrl, setVideoUrl] = useState('');
            const [inputUrl, setInputUrl] = useState('');
            const [isPlaying, setIsPlaying] = useState(false);
            const [currentTime, setCurrentTime] = useState(0);
            const [duration, setDuration] = useState(0);
            const [volume, setVolume] = useState(1);
            const [isMuted, setIsMuted] = useState(false);
            const [showControls, setShowControls] = useState(true);
            const [playbackRate, setPlaybackRate] = useState(1);
            const [error, setError] = useState('');
            
            const videoRef = useRef(null);
            const controlsTimeoutRef = useRef(null);
            const fileInputRef = useRef(null);

            useEffect(() => {
                if (videoRef.current) {
                    videoRef.current.volume = volume;
                    videoRef.current.playbackRate = playbackRate;
                }
            }, [volume, playbackRate]);

            const handleLoadVideo = () => {
                if (!inputUrl.trim()) {
                    setError('Please enter a valid video URL');
                    return;
                }
                setVideoUrl(inputUrl);
                setError('');
                setIsPlaying(true);
            };

            const handleFileSelect = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const url = URL.createObjectURL(file);
                    setVideoUrl(url);
                    setInputUrl(file.name);
                    setError('');
                    setIsPlaying(true);
                }
            };

            const togglePlay = () => {
                if (videoRef.current) {
                    if (isPlaying) {
                        videoRef.current.pause();
                    } else {
                        videoRef.current.play().catch(err => {
                            setError('Failed to play video');
                        });
                    }
                    setIsPlaying(!isPlaying);
                }
            };

            const toggleMute = () => {
                if (videoRef.current) {
                    videoRef.current.muted = !isMuted;
                    setIsMuted(!isMuted);
                }
            };

            const toggleFullscreen = () => {
                if (videoRef.current) {
                    if (document.fullscreenElement) {
                        document.exitFullscreen();
                    } else {
                        videoRef.current.parentElement.requestFullscreen();
                    }
                }
            };

            const handleTimeUpdate = () => {
                if (videoRef.current) {
                    setCurrentTime(videoRef.current.currentTime);
                }
            };

            const handleLoadedMetadata = () => {
                if (videoRef.current) {
                    setDuration(videoRef.current.duration);
                }
            };

            const handleSeek = (e) => {
                const time = parseFloat(e.target.value);
                if (videoRef.current) {
                    videoRef.current.currentTime = time;
                    setCurrentTime(time);
                }
            };

            const skip = (seconds) => {
                if (videoRef.current) {
                    videoRef.current.currentTime += seconds;
                }
            };

            const handleMouseMove = () => {
                setShowControls(true);
                if (controlsTimeoutRef.current) {
                    clearTimeout(controlsTimeoutRef.current);
                }
                controlsTimeoutRef.current = setTimeout(() => {
                    if (isPlaying && videoUrl) setShowControls(false);
                }, 3000);
            };

            const formatTime = (time) => {
                if (isNaN(time)) return '0:00';
                const minutes = Math.floor(time / 60);
                const seconds = Math.floor(time % 60);
                return `${minutes}:${seconds.toString().padStart(2, '0')}`;
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900">
                    {/* Header */}
                    <div className="bg-black/30 backdrop-blur-md border-b border-white/10">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <Film />
                                    <h1 className="text-2xl font-bold text-white">VideoPlay</h1>
                                </div>
                                <nav className="flex items-center gap-2">
                                    <a
                                        href="index.html"
                                        className="px-4 py-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all text-sm font-medium"
                                    >
                                        <div className="flex items-center gap-2">
                                            <Monitor />
                                            <span className="hidden sm:inline">Stream</span>
                                        </div>
                                    </a>
                                    <a
                                        href="#"
                                        className="px-4 py-2 bg-purple-600 text-white rounded-lg transition-all text-sm font-medium"
                                    >
                                        <div className="flex items-center gap-2">
                                            <Film />
                                            <span className="hidden sm:inline">Video</span>
                                        </div>
                                    </a>
                                </nav>
                            </div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="max-w-6xl mx-auto px-4 py-8">
                        {/* URL Input Section */}
                        <div className="mb-6 bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 shadow-2xl">
                            <label className="block text-white text-sm font-medium mb-3">
                                Video Source
                            </label>
                            <div className="flex flex-col sm:flex-row gap-3">
                                <input
                                    type="text"
                                    value={inputUrl}
                                    onChange={(e) => setInputUrl(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handleLoadVideo()}
                                    placeholder="Enter video URL (MP4, WebM, etc.)"
                                    className="flex-1 px-4 py-3 bg-black/30 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"
                                />
                                <button
                                    onClick={handleLoadVideo}
                                    className="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg"
                                >
                                    Load Video
                                </button>
                                <button
                                    onClick={() => fileInputRef.current?.click()}
                                    className="px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-xl transition-all border border-white/20 flex items-center gap-2"
                                >
                                    <Upload />
                                    <span className="hidden sm:inline">Upload</span>
                                </button>
                                <input
                                    ref={fileInputRef}
                                    type="file"
                                    accept="video/*"
                                    onChange={handleFileSelect}
                                    className="hidden"
                                />
                            </div>
                        </div>

                        {error && (
                            <div className="mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm">
                                {error}
                            </div>
                        )}

                        {/* Video Player */}
                        <div className="relative bg-black rounded-2xl overflow-hidden shadow-2xl border border-white/10">
                            <div 
                                className="relative aspect-video bg-black"
                                onMouseMove={handleMouseMove}
                                onMouseLeave={() => isPlaying && videoUrl && setShowControls(false)}
                            >
                                {videoUrl ? (
                                    <>
                                        <video
                                            ref={videoRef}
                                            className="w-full h-full"
                                            src={videoUrl}
                                            onTimeUpdate={handleTimeUpdate}
                                            onLoadedMetadata={handleLoadedMetadata}
                                            onError={() => setError('Failed to load video. Please check the URL or file.')}
                                            onEnded={() => setIsPlaying(false)}
                                        />
                                        
                                        {/* Controls Overlay */}
                                        <div 
                                            className={`absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-black/50 transition-opacity duration-300 ${
                                                showControls ? 'opacity-100' : 'opacity-0'
                                            }`}
                                        >
                                            {/* Center Play Button */}
                                            {!isPlaying && (
                                                <div className="absolute inset-0 flex items-center justify-center">
                                                    <button
                                                        onClick={togglePlay}
                                                        className="p-6 bg-purple-600/80 hover:bg-purple-600 rounded-full transition-all backdrop-blur-sm shadow-2xl"
                                                    >
                                                        <Play />
                                                    </button>
                                                </div>
                                            )}

                                            {/* Bottom Controls */}
                                            <div className="absolute bottom-0 left-0 right-0 p-6">
                                                {/* Progress Bar */}
                                                <div className="mb-4">
                                                    <input
                                                        type="range"
                                                        min="0"
                                                        max={duration || 0}
                                                        value={currentTime}
                                                        onChange={handleSeek}
                                                        className="w-full h-1 bg-white/30 rounded-full cursor-pointer"
                                                    />
                                                    <div className="flex justify-between text-xs text-white/80 mt-1">
                                                        <span>{formatTime(currentTime)}</span>
                                                        <span>{formatTime(duration)}</span>
                                                    </div>
                                                </div>

                                                {/* Control Buttons */}
                                                <div className="flex items-center gap-4">
                                                    <button
                                                        onClick={togglePlay}
                                                        className="p-3 bg-white/20 hover:bg-white/30 rounded-full transition-all backdrop-blur-sm"
                                                    >
                                                        {isPlaying ? <Pause /> : <Play />}
                                                    </button>

                                                    <button
                                                        onClick={() => skip(-10)}
                                                        className="p-2 hover:bg-white/20 rounded-lg transition-all"
                                                    >
                                                        <SkipBack />
                                                    </button>

                                                    <button
                                                        onClick={() => skip(10)}
                                                        className="p-2 hover:bg-white/20 rounded-lg transition-all"
                                                    >
                                                        <SkipForward />
                                                    </button>

                                                    {/* Volume Control */}
                                                    <div className="flex items-center gap-2 flex-1">
                                                        <button
                                                            onClick={toggleMute}
                                                            className="p-2 hover:bg-white/20 rounded-lg transition-all"
                                                        >
                                                            {isMuted ? <VolumeX /> : <Volume2 />}
                                                        </button>
                                                        <input
                                                            type="range"
                                                            min="0"
                                                            max="1"
                                                            step="0.1"
                                                            value={isMuted ? 0 : volume}
                                                            onChange={(e) => {
                                                                const val = parseFloat(e.target.value);
                                                                setVolume(val);
                                                                if (val > 0) setIsMuted(false);
                                                            }}
                                                            className="w-24"
                                                        />
                                                    </div>

                                                    {/* Playback Speed */}
                                                    <select
                                                        value={playbackRate}
                                                        onChange={(e) => setPlaybackRate(parseFloat(e.target.value))}
                                                        className="px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-white text-sm backdrop-blur-sm border-none focus:outline-none focus:ring-2 focus:ring-purple-500"
                                                    >
                                                        <option value="0.5" className="bg-slate-800">0.5x</option>
                                                        <option value="0.75" className="bg-slate-800">0.75x</option>
                                                        <option value="1" className="bg-slate-800">1x</option>
                                                        <option value="1.25" className="bg-slate-800">1.25x</option>
                                                        <option value="1.5" className="bg-slate-800">1.5x</option>
                                                        <option value="2" className="bg-slate-800">2x</option>
                                                    </select>

                                                    <button
                                                        onClick={toggleFullscreen}
                                                        className="p-2 hover:bg-white/20 rounded-lg transition-all ml-auto"
                                                    >
                                                        <Maximize />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </>
                                ) : (
                                    <div className="absolute inset-0 flex items-center justify-center">
                                        <div className="text-center">
                                            <div className="mx-auto mb-4 text-purple-400/30">
                                                <Film />
                                            </div>
                                            <p className="text-gray-400 text-lg">
                                                Load a video to start playing
                                            </p>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* Info Section */}
                        <div className="mt-6 bg-white/5 backdrop-blur-lg rounded-2xl p-6 border border-white/10">
                            <h2 className="text-white font-semibold mb-3">Features</h2>
                            <ul className="text-gray-300 space-y-2 text-sm">
                                <li>• Play videos from direct URLs (MP4, WebM, OGG)</li>
                                <li>• Upload and play local video files</li>
                                <li>• Full playback controls with 10-second skip</li>
                                <li>• Adjustable playback speed (0.5x to 2x)</li>
                                <li>• Volume control and mute option</li>
                                <li>• Fullscreen mode support</li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<VideoPlayer />, document.getElementById('root'));
    </script>
</body>
</html>